<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gestion des Poids</title>
  <meta name="description" content="Gestion des poids des objets et inventaires par cat√©gories">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="content fade-in">
    <!-- En-t√™te de la page -->
    <header class="page-header">
      <h1>üèãÔ∏è Gestion des Poids</h1>
      <p class="page-subtitle">G√©rez vos inventaires par poids avec cat√©gories et poids port√©</p>
    </header>

    <!-- Section Ajout d'objets personnalis√©s -->
    <section class="section">
      <h2>‚ûï Ajouter un nouvel objet</h2>
      <div class="add-object-form">
        <div class="form-row">
          <div class="form-group">
            <label for="newObjectCategory">Cat√©gorie :</label>
            <select id="newObjectCategory" required>
              <!-- Options g√©n√©r√©es dynamiquement -->
            </select>
          </div>
          <div class="form-group">
            <label for="newObjectName">Nom de l'objet :</label>
            <input type="text" id="newObjectName" placeholder="Ex: √âp√©e longue" required>
          </div>
          <div class="form-group">
            <label for="newObjectWeight">Poids (kg) :</label>
            <input type="number" id="newObjectWeight" step="0.1" min="0" placeholder="2.5" required>
          </div>
          <div class="form-group">
            <button type="button" onclick="ajouterNouvelObjet()" class="btn-add-object">
              ‚ûï Ajouter
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Contr√¥les de fichier et total -->
    <div class="section">
      <div class="controls-row">
        <div class="file-controls">
          <input type="file" accept=".json" id="fileInputInventory" title="Charger un inventaire">
          <button id="saveInventoryBtn" title="Sauvegarder tous les inventaires">
            üíæ Sauvegarder Inventaires
          </button>
        </div>
        
        <div class="total-display">
          <span class="total-label">Poids total :</span>
          <span id="totalPoids" class="total-value">0</span>
          <span class="total-unit">kg</span>
        </div>
      </div>
    </div>

    <!-- Onglets des inventaires -->
    <section class="section">
      <div class="tabs-container">
        <div class="tabs-header">
          <button class="tab-button active" onclick="switchTab('dorusis')" title="Inventaire personnel de Dorusis">
            üë§ Dorusis
          </button>
          <button class="tab-button" onclick="switchTab('guilde')" title="Inventaire collectif de la guilde">
            ‚öîÔ∏è Guilde
          </button>
          <button class="tab-button" onclick="switchTab('cheval')" title="Inventaire du cheval de trait">
            üê¥ Cheval de trait
          </button>
        </div>

        <!-- Inventaire Dorusis -->
        <div id="tab-dorusis" class="tab-content active">
          <div class="tab-header">
            <h2>üë§ Inventaire Dorusis</h2>
            <button onclick="addInventaireRowPoids('dorusis')" class="btn-add-row">
              ‚ûï Ajouter un objet
            </button>
          </div>
          
          <div class="table-container">
            <table id="inventaireTableDorusis" class="inventory-table">
              <thead>
                <tr>
                  <th width="15%">Cat√©gorie</th>
                  <th width="20%">Objet</th>
                  <th width="10%">Quantit√©</th>
                  <th width="12%">Poids unit.</th>
                  <th width="15%">Poids port√©</th>
                  <th width="12%">Total</th>
                  <th width="16%">Actions</th>
                </tr>
              </thead>
              <tbody>
                <!-- Lignes g√©n√©r√©es dynamiquement -->
              </tbody>
            </table>
          </div>
        </div>

        <!-- Inventaire Guilde -->
        <div id="tab-guilde" class="tab-content">
          <div class="tab-header">
            <h2>‚öîÔ∏è Inventaire Guilde</h2>
            <button onclick="addInventaireRowPoids('guilde')" class="btn-add-row">
              ‚ûï Ajouter un objet
            </button>
          </div>
          
          <div class="table-container">
            <table id="inventaireTableGuilde" class="inventory-table">
              <thead>
                <tr>
                  <th width="15%">Cat√©gorie</th>
                  <th width="20%">Objet</th>
                  <th width="10%">Quantit√©</th>
                  <th width="12%">Poids unit.</th>
                  <th width="15%">Poids port√©</th>
                  <th width="12%">Total</th>
                  <th width="16%">Actions</th>
                </tr>
              </thead>
              <tbody>
                <!-- Lignes g√©n√©r√©es dynamiquement -->
              </tbody>
            </table>
          </div>
        </div>

        <!-- Inventaire Cheval -->
        <div id="tab-cheval" class="tab-content">
          <div class="tab-header">
            <h2>üê¥ Inventaire Cheval de trait</h2>
            <button onclick="addInventaireRowPoids('cheval')" class="btn-add-row">
              ‚ûï Ajouter un objet
            </button>
          </div>
          
          <div class="table-container">
            <table id="inventaireTableCheval" class="inventory-table">
              <thead>
                <tr>
                  <th width="15%">Cat√©gorie</th>
                  <th width="20%">Objet</th>
                  <th width="10%">Quantit√©</th>
                  <th width="12%">Poids unit.</th>
                  <th width="15%">Poids port√©</th>
                  <th width="12%">Total</th>
                  <th width="16%">Actions</th>
                </tr>
              </thead>
              <tbody>
                <!-- Lignes g√©n√©r√©es dynamiquement -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <!-- Liste des objets par cat√©gories -->
    <section class="section">
      <h2>üìã Gestion des objets par cat√©gories</h2>
      
      <!-- Filtres et recherche -->
      <div class="filters-row">
        <div class="filter-group">
          <label for="categoryFilter">Cat√©gorie :</label>
          <select id="categoryFilter" onchange="filtrerParCategorie(this.value)">
            <option value="">Toutes les cat√©gories</option>
            <!-- Options g√©n√©r√©es dynamiquement -->
          </select>
        </div>
        
        <div class="search-group">
          <label for="searchObjects">Rechercher :</label>
          <input type="text" id="searchObjects" placeholder="Nom de l'objet..." 
                 oninput="rechercherObjets(this.value)">
        </div>
      </div>
      
      <!-- Conteneur des cat√©gories -->
      <div class="categories-container" id="categoriesContainer">
        <!-- Cat√©gories g√©n√©r√©es dynamiquement par JavaScript -->
      </div>
    </section>
  </div>

  <!-- Scripts -->
  <script src="data.js"></script>
  <script src="script.js"></script>
  <script src="poids.js"></script>
  <script src="nav.js"></script>
</body>
</html>